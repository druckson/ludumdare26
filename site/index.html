<html>
    <head>
        <title>Game</title>
        <script type="text/javascript" src="/js/lib/lodash.js"></script>
        <script type="text/javascript" src="/js/lib/jquery.js"></script>
        <script type="text/javascript" src="/js/lib/d3.v3.min.js"></script>
        <script type="text/javascript" src="/js/lib/three.js"></script>
        <script type="text/javascript" src="/js/lib/Stats.js"></script>
        <script type="text/javascript" src="/js/lib/box2d.js"></script>
        <script type="text/javascript" src="/js/lib/easeljs/events/EventDispatcher.js"></script>
        <script type="text/javascript" src="/js/lib/soundjs/Sound.js"></script>
        <script type="text/javascript" src="/js/lib/soundjs/WebAudioPlugin.js"></script>
        <script type="text/javascript" src="/js/lib/soundjs/HTMLAudioPlugin.js"></script>
        <script type="text/javascript" src="/js/engine/engine.js"></script>
        <script type="text/javascript" src="/js/engine/entity_manager.js"></script>
        <script type="text/javascript" src="/js/engine/ai.js"></script>
        <script type="text/javascript" src="/js/engine/audio.js"></script>
        <script type="text/javascript" src="/js/engine/movement.js"></script>
        <script type="text/javascript" src="/js/engine/physics.js"></script>
        <script type="text/javascript" src="/js/engine/display.js"></script>
        <script type="text/javascript" src="/js/engine/scripting.js"></script>
        <script type="text/javascript" src="/js/game/scripts.js"></script>
        <script type="text/javascript">
            $.ajax({
                type: "GET",
                url: '/js/game/maps/level1.json',
                success: function(data) {
                    var eng = new engine.Engine(true);
                    eng.loadMap(data);
                    eng.addSystem(new engine.Scripting(game.scripts));
                    eng.addSystem(new engine.AI());
                    eng.addSystem(new engine.Audio());
                    eng.addSystem(new engine.Movement());
                    eng.addSystem(new engine.Physics(20, 20, 0.9));
                    eng.addSystem(new engine.Display(7, 3));
                    //eng.addPlayer();
                    eng.gameLoop();
                },
                error: function(error) {
                    alert("Error loading map, see console for details.");
                    console.log(error);
                }
            });
        </script>
        <style>
            body {
                margin: 0;
            }
        </style>
    </head>
    <body></body>
</html>
